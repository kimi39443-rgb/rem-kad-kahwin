<!doctype html>
<html lang="ms">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Admin Kad Kahwin</title>
  <style>
    :root{--bg:#0b0b0f;--card:rgba(255,255,255,.08);--bd:rgba(255,255,255,.14);--txt:#fff;--mut:rgba(255,255,255,.75)}
    *{box-sizing:border-box;font-family:system-ui,-apple-system,Segoe UI,Roboto,Arial}
    body{margin:0;background:var(--bg);color:var(--txt);min-height:100vh;display:flex;align-items:center;justify-content:center;padding:18px}
    .wrap{width:min(820px,100%)}
    .card{background:var(--card);border:1px solid var(--bd);border-radius:18px;padding:18px;box-shadow:0 20px 60px rgba(0,0,0,.45)}
    h1{margin:0 0 10px;font-size:20px}
    p{margin:0 0 14px;color:var(--mut);line-height:1.5}
    .grid{display:grid;grid-template-columns:1fr 1fr;gap:12px}
    @media(max-width:720px){.grid{grid-template-columns:1fr}}
    label{font-size:12px;color:var(--mut);display:block;margin:10px 0 6px}
    input,textarea{width:100%;padding:12px 12px;border-radius:12px;border:1px solid var(--bd);background:rgba(0,0,0,.25);color:#fff;outline:none}
    textarea{min-height:90px;resize:vertical}
    .row{display:flex;gap:10px;flex-wrap:wrap;margin-top:14px}
    .btn{padding:12px 14px;border-radius:999px;border:1px solid var(--bd);background:rgba(255,255,255,.12);color:#fff;font-weight:700;cursor:pointer}
    .btn.primary{background:#fff;color:#000;border-color:#fff}
    .hint{margin-top:12px;font-size:12px;color:var(--mut)}
    .lock{display:none}
    .lock.show{display:block}
  </style>
</head>
<body>
  <div class="wrap">
    <div class="card" id="loginCard">
      <h1>Admin Panel</h1>
      <p>Masukkan kata laluan untuk edit maklumat kad.</p>
      <label>Kata laluan</label>
      <input id="pw" type="password" placeholder="••••••••" />
      <div class="row">
        <button class="btn primary" id="btnLogin">Masuk</button>
      </div>
      <div class="hint">Tip: Tukar password di dalam kod (cari: <b>ADMIN_PASSWORD</b>).</div>
    </div>

    <div class="card lock" id="formCard">
      <h1>Edit Maklumat Jemputan</h1>
      <p>Isi, tekan <b>Simpan</b>. Lepas itu buka <b>invite.html</b> untuk lihat perubahan.</p>

      <div class="grid">
        <div>
          <label>Tajuk (contoh: Walimatul Urus)</label>
          <input id="title" />
        </div>
        <div>
          <label>Nama Pengantin (contoh: Adam & Hawa)</label>
          <input id="couple" />
        </div>

        <div>
          <label>Tarikh (contoh: 01/12/2025)</label>
          <input id="date" />
        </div>
        <div>
          <label>Masa (contoh: 9.00am – 2.00pm)</label>
          <input id="time" />
        </div>

        <div>
          <label>Tempat / Dewan</label>
          <input id="venue" />
        </div>
        <div>
          <label>Alamat ringkas</label>
          <input id="address" />
        </div>

        <div>
          <label>Link Google Maps</label>
          <input id="maps" placeholder="https://maps.google.com/?q=..." />
        </div>
        <div>
          <label>Link WhatsApp RSVP</label>
          <input id="rsvp" placeholder="https://wa.me/60xxxx?text=..." />
        </div>
      </div>

      <label>Ayat Jemputan (premium)</label>
      <textarea id="message"></textarea>

      <div class="row">
        <button class="btn primary" id="btnSave">Simpan</button>
        <button class="btn" id="btnReset">Reset (default)</button>
        <button class="btn" id="btnLogout">Logout</button>
      </div>

      <div class="hint">
        Data disimpan dalam <b>LocalStorage</b> (device/browser yang sama).
      </div>
    </div>
  </div>

<script>
  // ✅ TUKAR PASSWORD DI SINI
  const ADMIN_PASSWORD = "12345";

  const KEY = "KADKAHWIN_DATA_V1";

  const DEFAULT_DATA = {
    title: "Walimatul Urus",
    couple: "Adam & Hawa",
    date: "01/12/2025",
    time: "9.00am – 2.00pm",
    venue: "Dewan Serbaguna",
    address: "Alamat ringkas majlis di sini",
    maps: "https://maps.google.com/",
    rsvp: "https://wa.me/60123456789?text=Assalamualaikum,%20saya%20nak%20RSVP",
    message: "Dengan penuh kesyukuran, kami menjemput Dato’/Datin/Tuan/Puan/Encik/Cik sekeluarga hadir memeriahkan majlis perkahwinan kami."
  };

  const $ = (id)=>document.getElementById(id);

  function loadData(){
    try{
      const raw = localStorage.getItem(KEY);
      return raw ? JSON.parse(raw) : DEFAULT_DATA;
    }catch(e){
      return DEFAULT_DATA;
    }
  }
  function saveData(data){
    localStorage.setItem(KEY, JSON.stringify(data));
  }

  function fillForm(d){
    $("title").value = d.title || "";
    $("couple").value = d.couple || "";
    $("date").value = d.date || "";
    $("time").value = d.time || "";
    $("venue").value = d.venue || "";
    $("address").value = d.address || "";
    $("maps").value = d.maps || "";
    $("rsvp").value = d.rsvp || "";
    $("message").value = d.message || "";
  }
  function getForm(){
    return {
      title: $("title").value.trim(),
      couple: $("couple").value.trim(),
      date: $("date").value.trim(),
      time: $("time").value.trim(),
      venue: $("venue").value.trim(),
      address: $("address").value.trim(),
      maps: $("maps").value.trim(),
      rsvp: $("rsvp").value.trim(),
      message: $("message").value.trim(),
    };
  }

  function showForm(){
    $("loginCard").style.display = "none";
    $("formCard").classList.add("show");
    fillForm(loadData());
  }

  $("btnLogin").addEventListener("click", ()=>{
    if(($("pw").value || "") === ADMIN_PASSWORD){
      showForm();
    }else{
      alert("Password salah.");
    }
  });

  $("btnSave").addEventListener("click", ()=>{
    const data = getForm();
    saveData(data);
    alert("Berjaya simpan! Buka invite.html untuk lihat.");
  });

  $("btnReset").addEventListener("click", ()=>{
    if(confirm("Reset ke default?")){
      saveData(DEFAULT_DATA);
      fillForm(DEFAULT_DATA);
      alert("Sudah reset.");
    }
  });

  $("btnLogout").addEventListener("click", ()=>{
    location.reload();
  });
</script>
</body>
</html>
