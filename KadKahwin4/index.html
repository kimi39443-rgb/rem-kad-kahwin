<!DOCTYPE html>
<html lang="ms">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Jemputan Digital</title>
<script src="https://cdn.tailwindcss.com"></script>
<style>
:root{
  --accent:#f6e7b5;
  --bgTop:#05070b;
  --bgBot:#000;
  --text:#fff;
  --card:rgba(255,255,255,.06);
  --stroke:rgba(255,255,255,.14);
}
body{
  margin:0;
  color:var(--text);
  background:
    radial-gradient(900px 520px at 20% 10%, rgba(255,255,255,.06), transparent 60%),
    linear-gradient(180deg,var(--bgTop),var(--bgBot));
  min-height:100vh;
}
.glass{background:var(--card);border:1px solid var(--stroke);border-radius:24px;backdrop-filter:blur(18px)}
.label{font-size:10px;letter-spacing:.3em;opacity:.65;text-transform:uppercase}
.btn{padding:14px;border-radius:999px;border:1px solid var(--stroke);letter-spacing:.18em;text-transform:uppercase;font-size:12px;background:rgba(255,255,255,.08)}
.btn-primary{background:#fff;color:#000;font-weight:800}
input{background:rgba(255,255,255,.08)!important;border:1px solid var(--stroke)!important;color:var(--text)!important;border-radius:16px;padding:12px 14px;width:100%}
.accent{color:var(--accent)}
</style>
</head>

<body class="p-4 max-w-[560px] mx-auto">

<div class="glass p-6 text-center">
  <div class="label">Walimatul Urus</div>

  <h1 id="outNames" class="text-3xl mt-2 font-extrabold accent">-</h1>
  <p id="outDate" class="opacity-70 mt-2">-</p>
  <p id="outLoc" class="opacity-70">-</p>

  <div class="mt-6">
    <div class="label mb-2">Nama Tetamu</div>
    <input id="guest" placeholder="Nama Tetamu">
  </div>

  <div class="grid grid-cols-2 gap-2 mt-5">
    <button onclick="rsvp('Hadir')" class="btn btn-primary">Hadir</button>
    <button onclick="rsvp('Tidak Hadir')" class="btn">Tidak Hadir</button>
  </div>

  <p class="text-xs opacity-50 mt-6">Â© R-E-M Digital Invitation</p>
</div>

<script>
const WA_PHONE = "60123456789"; // TUKAR NOMBOR INI

function safeAtob(b64){
  return decodeURIComponent(escape(atob(b64)));
}

const preset = new URLSearchParams(location.search).get("preset");
if(!preset){
  alert("Sila buka melalui Builder.");
}else{
  const data = JSON.parse(safeAtob(preset));

  outNames.innerText = data.names || "-";
  outDate.innerText = data.date || "-";
  outLoc.innerText  = data.location || "-";

  if(data.accent){
    document.documentElement.style.setProperty("--accent", data.accent);
  }

  if(data.theme === "modern"){
    document.documentElement.style.setProperty("--bgTop", "#030712");
    document.documentElement.style.setProperty("--bgBot", "#0a1022");
  }
  if(data.theme === "islamic"){
    document.documentElement.style.setProperty("--bgTop", "#04150c");
    document.documentElement.style.setProperty("--bgBot", "#061a12");
  }
  if(data.theme === "minimal"){
    document.documentElement.style.setProperty("--bgTop", "#f8fafc");
    document.documentElement.style.setProperty("--bgBot", "#e2e8f0");
    document.documentElement.style.setProperty("--text", "#0b1220");
    document.documentElement.style.setProperty("--card", "rgba(255,255,255,.8)");
    document.documentElement.style.setProperty("--stroke", "rgba(2,6,23,.15)");
  }
}

function rsvp(status){
  const msg =
`RSVP ${status}
Nama Tetamu: ${guest.value || "-"}
Majlis: ${outNames.innerText}
Tarikh: ${outDate.innerText}
Lokasi: ${outLoc.innerText}`;
  window.open("https://wa.me/"+WA_PHONE+"?text="+encodeURIComponent(msg),"_blank");
}
</script>

</body>
</html>
